<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reyes Godos</title>
</head>

<body>
    <h2>Reyes Godos</h2>
    <ul id="lista"></ul>

    <script>
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function () {
            if (this.readyState == 4 && this.status == 200) {
                let reyesJSON = this.responseText;
                let ulHtml = document.getElementById("lista");
                let reyes = JSON.parse(reyesJSON);
                //  console.log(reyesJSON);
                //  console.log(reyes);
                generarLista(reyes.reyesgodos, "lista");
            }

        };
        xhttp.open("GET", "godos.php", true);
        xhttp.send()

        const generarLista = (json, listapadre) => {

            for (let i = 0; i < json.length; i++) {
                    console.log(json[i])
                if (typeof json[i]==="object") {
                    let padre=document.createElement("li");
                    let textoPadre=document.createTextNode(json[i].nombre);
                    let contendorHijos=document.createElement("ul")
                    listapadre.appendChild(padre)
                    padre.appendChild(textoPadre);
                    padre.appendChild(contendorHijos);
                    generarLista(json.hijos, contendorHijos);
                    
                } else {
                  let liHijos =document.createElement("li");
                  let textHijos= ocument.createTextNode(json[i]);
                  contendorHijos.appendChild(liHijos);
                 
                }

            }

        }





    </script>


</body>

</html>